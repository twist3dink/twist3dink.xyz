<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lesson 6: BadUSB & GPIO | Flipper Zero Course - tw¬°st3d_¬°nk Academy</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:wght@400;700&display=swap" rel="stylesheet" />

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Atkinson Hyperlegible', sans-serif;
      background: #0a0a0a;
      color: #e0e0e0;
      line-height: 1.6;
      padding: 2rem 1rem;
    }

    .container { max-width: 900px; margin: 0 auto; }

    .lesson-header {
      background: #1a1a1a;
      padding: 2rem;
      border-radius: 8px;
      border: 1px solid #333;
      margin-bottom: 2rem;
    }

    .lesson-header h1 {
      color: #00ff88;
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    .lesson-meta {
      color: #999;
      font-size: 1rem;
      margin-bottom: 1rem;
    }

    .lesson-header button {
      background: transparent;
      border: 2px solid #00ff88;
      color: #00ff88;
      padding: 0.6rem 1.2rem;
      border-radius: 4px;
      cursor: pointer;
      font-family: 'Atkinson Hyperlegible', sans-serif;
      font-size: 1rem;
      transition: all 0.3s;
    }

    .lesson-header button:hover { background: #00ff88; color: #0a0a0a; }

    .content-section {
      background: #1a1a1a;
      padding: 2rem;
      border-radius: 8px;
      border: 1px solid #333;
      margin-bottom: 2rem;
    }

    .content-section h2 {
      color: #00ff88;
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }

    .content-section h3 {
      color: #00ff88;
      font-size: 1.2rem;
      margin: 1.5rem 0 0.8rem 0;
    }

    .content-section p {
      font-size: 1.1rem;
      margin-bottom: 1rem;
      letter-spacing: 0.3px;
    }

    .content-section ul, .content-section ol {
      margin: 1rem 0 1rem 2rem;
    }

    .content-section li {
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
      letter-spacing: 0.3px;
    }

    .code-block {
      background: #0a0a0a;
      border: 1px solid #333;
      border-radius: 4px;
      padding: 1rem;
      margin: 1rem 0;
      font-family: 'Courier New', monospace;
      font-size: 0.95rem;
      overflow-x: auto;
      color: #00ff88;
      white-space: pre-wrap;
    }

    .note-box {
      background: #1a1a1a;
      border-left: 4px solid #00ff88;
      padding: 1rem;
      margin: 1.5rem 0;
      border-radius: 4px;
    }

    .warning-box {
      background: #2a1a1a;
      border-left: 4px solid #ff4444;
      padding: 1rem;
      margin: 1.5rem 0;
      border-radius: 4px;
    }

    .warning-box strong { color: #ff4444; }

    #complete-btn {
      background: #00ff88;
      color: #0a0a0a;
      border: none;
      padding: 1rem 2rem;
      border-radius: 4px;
      cursor: pointer;
      font-family: 'Atkinson Hyperlegible', sans-serif;
      font-size: 1.1rem;
      font-weight: 700;
      width: 100%;
      margin: 2rem 0;
      transition: all 0.3s;
    }

    #complete-btn:hover { background: #00dd77; }

    #complete-btn.completed {
      background: #333;
      color: #00ff88;
      border: 2px solid #00ff88;
      cursor: default;
    }

    #complete-btn.locked {
      background: #333;
      color: #666;
      border: 2px solid #666;
      cursor: not-allowed;
    }

    #complete-btn.error { background: #ff4444; color: #fff; }

    .nav-section {
      background: #1a1a1a;
      padding: 2rem;
      border-radius: 8px;
      border: 1px solid #333;
      margin-top: 2rem;
    }

    .nav-section button {
      background: transparent;
      border: 2px solid #00ff88;
      color: #00ff88;
      padding: 0.6rem 1.2rem;
      border-radius: 4px;
      cursor: pointer;
      font-family: 'Atkinson Hyperlegible', sans-serif;
      font-size: 1rem;
      margin-bottom: 1.5rem;
      width: 100%;
      transition: all 0.3s;
    }

    .nav-section button:hover { background: #00ff88; color: #0a0a0a; }

    .nav-buttons { display: flex; gap: 1rem; flex-wrap: wrap; }

    .nav-buttons a {
      flex: 1;
      min-width: 150px;
      text-align: center;
      padding: 1rem;
      border-radius: 4px;
      text-decoration: none;
      font-weight: 700;
      transition: all 0.3s;
    }

    .nav-buttons a:nth-child(1),
    .nav-buttons a:nth-child(2) {
      background: transparent;
      border: 2px solid #00ff88;
      color: #00ff88;
    }

    .nav-buttons a:nth-child(1):hover,
    .nav-buttons a:nth-child(2):hover {
      background: #00ff88;
      color: #0a0a0a;
    }

    .nav-buttons a:nth-child(3) {
      background: #00ff88;
      color: #0a0a0a;
      border: 2px solid #00ff88;
    }

    .nav-buttons a:nth-child(3):hover { background: #00dd77; }

    @media (max-width: 768px) {
      body { padding: 1rem 0.5rem; }
      .lesson-header h1 { font-size: 1.5rem; }
      .content-section { padding: 1.5rem; }
      .nav-buttons { flex-direction: column; }
      .nav-buttons a { min-width: 100%; }
    }
  </style>
</head>

<body>
  <div class="container">

    <div class="lesson-header">
      <h1>Lesson 6: BadUSB & GPIO</h1>
      <p class="lesson-meta">Estimated time: 30 minutes | XP Reward: 50</p>
      <button onclick="scrollToBottom()">Skip to Bottom ‚Üì</button>
    </div>

    <!-- ‚úÖ NEW SECTION: Beginner-friendly "Stop the Noise" guide -->
    <div class="content-section">
      <h2>Stop the Noise: Where Does This Go?</h2>
      <p>
        Real talk: a lot of guides say ‚Äúput this here‚Äù like you‚Äôve memorized the anatomy of an HTML page.
        If you‚Äôre new, that‚Äôs not ‚Äúeasy‚Äù ‚Äî it‚Äôs guessing. This section removes the guesswork.
      </p>

      <h3>Two rules that prevent 90% of beginner pain</h3>
      <ul>
        <li><strong>CSS goes inside</strong> <code>&lt;style&gt; ... &lt;/style&gt;</code> (design only).</li>
        <li><strong>HTML content goes inside</strong> <code>&lt;body&gt; ... &lt;/body&gt;</code> (text/sections/buttons).</li>
      </ul>

      <div class="note-box">
        <strong>Translation:</strong> If it starts with <code>&lt;div&gt;</code>, it is HTML. It belongs in the <strong>body</strong>.
        If it starts with <code>.something {</code>, it is CSS. It belongs in the <strong>style</strong>.
      </div>

      <h3>Exactly where your new ‚ÄúObjective / Deliverables‚Äù blocks belong</h3>
      <ol>
        <li>Find this in the file: <code>&lt;div class="lesson-header"&gt; ... &lt;/div&gt;</code></li>
        <li>Paste your new sections <strong>directly under it</strong>.</li>
        <li>Do not paste any <code>&lt;div&gt;</code> inside <code>&lt;style&gt;</code>.</li>
      </ol>

      <div class="warning-box">
        <strong>Common mistake:</strong> If your page suddenly looks unstyled or broken, you probably put HTML inside the CSS.
        That is the #1 ‚Äúwhy is my site cursed‚Äù bug.
      </div>
    </div>

    <!-- ‚úÖ NEW SECTION: Objective + proof loops (your inserted content, correctly placed) -->
    <div class="content-section">
      <h2>Objective</h2>
      <p>
        Complete two safe proof loops: (1) BadUSB ‚Äútype-only‚Äù automation on your own computer,
        and (2) GPIO safety + pinout verification on the Flipper.
        The goal is controlled learning and documentation ‚Äî not ‚Äúdoing damage fast.‚Äù
      </p>

      <div class="warning-box">
        <strong>Boundary (non-negotiable):</strong>
        <ul style="margin-top: 0.5rem;">
          <li>Only run BadUSB on computers you own (or have explicit written permission to test).</li>
          <li>No command shells, no downloads, no persistence, no ‚Äúhidden‚Äù behavior.</li>
          <li>If you can‚Äôt explain what your script does in one sentence, don‚Äôt run it.</li>
        </ul>
      </div>
    </div>

    <div class="content-section">
      <h2>BadUSB (Safe Demo)</h2>
      <p>
        BadUSB works because computers trust USB keyboards automatically.
        In this exercise, you prove that trust model safely by typing text into a window you opened yourself.
      </p>

      <h3>BadUSB Exercise: Type-Only Script</h3>
      <ol>
        <li>On your computer, open a text editor (Notepad, TextEdit, Notes, etc.).</li>
        <li>Click inside the editor so the text area is focused.</li>
        <li>On Flipper: open <strong>BadUSB</strong> and run your script file.</li>
      </ol>

      <div class="note-box">
        <strong>Important:</strong> This script should only type text + press Enter.
        No OS shortcuts, no app launching, no system commands.
      </div>

      <h3>demo-type-only.txt (the exact script)</h3>
      <div class="code-block">REM Title: demo-type-only
REM Purpose: Safe proof of BadUSB typing
REM Target: YOUR OWN computer only

DELAY 1000
STRING BadUSB test successful.
ENTER
STRING Lesson 6 proof loop complete.
ENTER
STRING I understand that USB keyboards are trusted by default.
ENTER</div>

      <h3>Deliverables (BadUSB Proof Pack)</h3>
      <ul>
        <li><strong>D6.1</strong> ‚Äî One BadUSB script saved to <strong>/badusb/</strong> named: <strong>demo-type-only.txt</strong></li>
        <li><strong>D6.2</strong> ‚Äî Photo/screenshot showing the typed output in your editor</li>
        <li><strong>D6.3</strong> ‚Äî ‚ÄúRun Report‚Äù (5‚Äì8 lines):
          <ul>
            <li><strong>Device:</strong> (your computer)</li>
            <li><strong>Ownership:</strong> Mine</li>
            <li><strong>Focused window:</strong> (what was active)</li>
            <li><strong>What it typed:</strong></li>
            <li><strong>Did it behave as expected?</strong></li>
            <li><strong>One lesson learned:</strong> (about USB trust)</li>
          </ul>
        </li>
      </ul>
    </div>

    <div class="content-section">
      <h2>GPIO (Safe Verification)</h2>
      <p>
        GPIO is where you can physically damage your device if you wing it.
        So the proof loop here is: identify power + ground, and lock in the safety rules
        before you ever wire anything.
      </p>

      <h3>GPIO Exercise: Pinout + Safety Checklist</h3>
      <ol>
        <li>On Flipper, open the <strong>GPIO</strong> app/menu.</li>
        <li>Find the pin reference: <strong>on-device reference screen</strong> OR the <strong>pin labels</strong> on the device OR an <strong>official pinout reference</strong> you have saved/printed.</li>
        <li>Identify the <strong>3.3V</strong> pin and at least one <strong>GND</strong> pin.</li>
      </ol>

      <div class="warning-box">
        <strong>Hardware rule:</strong> Treat GPIO as <strong>3.3V logic only</strong>. Overvoltage can permanently damage pins.
      </div>

      <h3>Deliverables (GPIO Proof Pack)</h3>
      <ul>
        <li><strong>D6.4</strong> ‚Äî Photo of your GPIO reference (screen OR pin labels OR official pinout reference)</li>
        <li><strong>D6.5</strong> ‚Äî 5-line GPIO Safety Checklist:
          <ul>
            <li><strong>Logic level used:</strong> 3.3V</li>
            <li><strong>Never connect this voltage directly:</strong> 5V / 12V</li>
            <li><strong>Must share this reference with external circuits:</strong> GND</li>
            <li><strong>LED protection component:</strong> Current-limiting resistor (220Œ©‚Äì330Œ©)</li>
            <li><strong>My rule before wiring:</strong> ‚ÄúPower off, re-check, then connect.‚Äù</li>
          </ul>
        </li>
      </ul>

      <div class="note-box">
        <strong>Optional (not required):</strong> If you already own an LED + resistor + jumper wires,
        you can do a basic output test using any built-in manual GPIO toggle feature.
        Do not attempt this if you don‚Äôt already know what you‚Äôre doing.
      </div>
    </div>

    <div class="content-section">
      <h2>Finished Means</h2>
      <ul>
        <li>D6.1 + D6.2 + D6.3 exist (BadUSB proof loop complete).</li>
        <li>D6.4 + D6.5 exist (GPIO proof loop complete).</li>
        <li>You can explain what you did in one minute without drifting into ‚Äúcooler stuff.‚Äù</li>
      </ul>
    </div>

    <!-- ‚úÖ ORIGINAL LESSON CONTENT CONTINUES (kept as-is below) -->

    <div class="content-section">
      <h2>What is BadUSB?</h2>
      <p>BadUSB is a security exploit that takes advantage of the trust computers place in USB devices. When you plug in a USB keyboard, your computer automatically trusts it and accepts whatever keystrokes it sends. BadUSB attacks exploit this by making a device pretend to be a keyboard and then rapidly typing commands to compromise the system.</p>

      <h3>USB Human Interface Device (HID) Attacks</h3>
      <p>Human Interface Devices (HIDs) are peripherals like keyboards, mice, and game controllers. Operating systems trust HIDs implicitly because they're essential for user interaction. This trust creates a security vulnerability:</p>

      <ul>
        <li>When you plug in a keyboard, the OS doesn't ask "should I trust this keyboard?"</li>
        <li>It immediately starts accepting keystrokes</li>
        <li>The keyboard could type anything - including malicious commands</li>
        <li>The OS has no way to distinguish between human keystrokes and automated ones</li>
      </ul>

      <h3>Flipper Acts as Keyboard/Mouse</h3>
      <p>When you connect Flipper Zero to a computer via USB and run a BadUSB script, Flipper identifies itself as a keyboard (and optionally mouse). The computer sees it as a legitimate input device and processes whatever "keystrokes" Flipper sends. This happens in milliseconds, often faster than a human could react.</p>

      <h3>Automated Keystroke Injection</h3>
      <p>BadUSB scripts can:</p>
      <ul>
        <li>Open applications (calculator, terminal, web browser)</li>
        <li>Execute system commands</li>
        <li>Download and run files from the internet</li>
        <li>Modify system settings</li>
        <li>Extract data and upload it to remote servers</li>
        <li>Disable security features</li>
      </ul>

      <p>All of this happens automatically when the script runs, without any user interaction beyond plugging in the USB device.</p>

      <h3>Legitimate Uses vs Malicious Uses</h3>
      <p><strong>Legitimate uses of BadUSB:</strong></p>
      <ul>
        <li><strong>Penetration testing:</strong> Authorized security assessments of computer systems</li>
        <li><strong>IT automation:</strong> Rapid deployment of configurations across multiple machines</li>
        <li><strong>Personal productivity:</strong> Automating repetitive tasks on your own computers</li>
        <li><strong>Education:</strong> Learning about USB security vulnerabilities</li>
        <li><strong>Accessibility:</strong> Creating custom input solutions for users with disabilities</li>
      </ul>

      <p><strong>Malicious uses (illegal and unethical):</strong></p>
      <ul>
        <li>Unauthorized access to computer systems</li>
        <li>Data theft or corporate espionage</li>
        <li>Installing malware or ransomware</li>
        <li>Disabling security systems without permission</li>
        <li>Any use on computers you don't own or have authorization to test</li>
      </ul>

      <div class="warning-box">
        <strong>‚ö†Ô∏è CRITICAL LEGAL WARNING</strong>
        <p style="margin-top: 0.5rem;">BadUSB attacks on computers you don't own or don't have explicit written authorization to test are illegal under computer fraud laws in virtually every jurisdiction.</p>
      </div>
    </div>

    <!-- keep the rest of your original content sections here unchanged -->

    <button id="complete-btn" onclick="markComplete()">Complete Previous Lesson First</button>

    <div class="nav-section">
      <button onclick="scrollToTop()">Back to Top ‚Üë</button>
      <div class="nav-buttons">
        <a href="../lesson-5/">‚Üê Previous Lesson</a>
        <a href="../../">üéì Course Overview</a>
        <a href="https://twist3dink.xyz/academy/">üè† Back to Academy</a>
      </div>
    </div>
  </div>

  <script>
    function scrollToBottom() {
      window.scrollTo({ top: document.body.scrollHeight, behavior: 'instant' });
    }

    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'instant' });
    }

    function loadProgress() {
      try {
        const saved = localStorage.getItem('flipper-progress');
        return saved ? JSON.parse(saved) : { currentLesson: 1, completedLessons: [], totalXP: 0 };
      } catch (e) {
        console.error('Error loading progress:', e);
        return { currentLesson: 1, completedLessons: [], totalXP: 0 };
      }
    }

    function saveProgress(progress) {
      try {
        localStorage.setItem('flipper-progress', JSON.stringify(progress));
        return true;
      } catch (e) {
        console.error('Error saving progress:', e);
        return false;
      }
    }

    function markComplete() {
      const btn = document.getElementById('complete-btn');
      const currentLessonNumber = 6;
      const progress = loadProgress();

      if (!progress.completedLessons.includes(currentLessonNumber - 1)) {
        return;
      }

      if (!progress.completedLessons.includes(currentLessonNumber)) {
        progress.completedLessons.push(currentLessonNumber);
        progress.totalXP += 50;

        if (progress.currentLesson === currentLessonNumber) {
          progress.currentLesson = currentLessonNumber + 1;
        }

        const saved = saveProgress(progress);

        if (saved) {
          btn.textContent = '‚úì Lesson Complete - Course Finished! üéì';
          btn.classList.remove('locked');
          btn.classList.add('completed');
        } else {
          btn.textContent = 'Error - Try Again';
          btn.classList.add('error');
          setTimeout(() => {
            btn.textContent = 'Mark Lesson as Complete';
            btn.classList.remove('error');
          }, 2000);
        }
      }
    }

    window.addEventListener('load', () => {
      const progress = loadProgress();
      const currentLessonNumber = 6;
      const btn = document.getElementById('complete-btn');

      if (progress.completedLessons.includes(currentLessonNumber)) {
        btn.textContent = '‚úì Lesson Complete - Course Finished! üéì';
        btn.classList.add('completed');
      }
      else if (progress.completedLessons.includes(currentLessonNumber - 1)) {
        btn.textContent = 'Mark Lesson as Complete';
        btn.classList.remove('locked');
      }
      else {
        btn.textContent = 'Complete Previous Lesson First';
        btn.classList.add('locked');
      }
    });
  </script>
</body>
</html>
